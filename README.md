В данном тесте реализованы allure report, кастомные типы ts и кастомные команды (browser) для фрэймворка. Сравнение скриншотов происходит через wdio-image-comparison-service. При первом запуске теста происходит сохранение эталонных скриншотов. При последующим уже происходит сравнение. Allure report доработан и к нему прикрепляются изображения фр, ор и разницы из wdio-image-comparison-service.  

Установка сборки `npm install`  
Запуск тестов `npm test`  
Запуск отчета после окончания теста `npm run report`  

В данном проекте представлен пример визуального автотеста.  
Файл wdio.conf.js конфигурация автотеста. Здесь прописаны все основные настройки и кастомные команды.  
В папке test хранятся тесты  
В папке pages хранятся Page Object  
В папке test/visual test хранятся все скриншоты. В папке baseline эталонные скриншоты. В папке actual фактический результат. В папке diff разница между эталонным и фактическим резульатом.  

Папка temp служит для временного хранения скриншотов ошибок  

В папке src указаны кастомные типы для ts  

Спецификация header.ts проверят внешний вид шапки, то что она скролится на страницу и состояние разных элементов в ней.  
Спецификация singleСatalog.ts проверяет страницу каталога. Каждый блок проверяется отдельно. Блоки изолированы друг от друга для того, чтобы изменения в одном блоке не затрагивали другие и падаи только те тесты, которые относят к блокам в которых произошли ошибки. Также для того, чтобы быть уверенным, что все блоки расположены в верном порядке есть тесты на расположение блоков относительно друг друга.



--====================================================================
-- Пример 1. Вывести студентов, которые сдавали дисциплину «Основы баз данных», указать дату попытки и результат. Информацию вывести по убыванию результатов тестирования.
--====================================================================
-- Исходные данные

<details>
таблица attempt
+------------+------------+------------+--------------+--------+
| attempt_id | student_id | subject_id | date_attempt | result |
+------------+------------+------------+--------------+--------+
| 1          | 1          | 2          | 2020-03-23   | 67     |
| 2          | 3          | 1          | 2020-03-23   | 100    |
| 3          | 4          | 2          | 2020-03-26   | 0      |
| 4          | 1          | 1          | 2020-04-15   | 33     |
| 5          | 3          | 1          | 2020-04-15   | 67     |
| 6          | 4          | 2          | 2020-04-21   | 100    |
| 7          | 3          | 1          | 2020-05-17   | 33     |
+------------+------------+------------+--------------+--------+
таблица student                   таблица subject
+------------+-----------------+  +------------+-------------------+
| student_id | name_student    |  | subject_id | name_subject      |
+------------+-----------------+  +------------+-------------------+
| 1          | Баранов Павел   |  | 1          | Основы SQL        |
| 2          | Абрамова Катя   |  | 2          | Основы баз данных |
| 3          | Семенов Иван    |  | 3          | Физика            |
| 4          | Яковлева Галина |  +------------+-------------------+
+------------+-----------------+
</details>

	
 --====================================================================

SELECT name_student, date_attempt, result
FROM attempt
     INNER JOIN student USING(student_id)
     INNER JOIN subject USING(subject_id)
WHERE name_subject='Основы баз данных'
order by result DESC

--=====================================================
-- Результат
<details>
+-----------------+--------------+--------+
| name_student    | date_attempt | result |
+-----------------+--------------+--------+
| Яковлева Галина | 2020-04-21   | 100    |
| Баранов Павел   | 2020-03-23   | 67     |
| Яковлева Галина | 2020-03-26   | 0      |
+-----------------+--------------+--------+
</details>
